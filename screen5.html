<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://fonts.googleapis.com/css?family=Press+Start+2P"
      rel="stylesheet"
    />
    <link href="https://unpkg.com/nes.css/css/nes.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/screen5.css" />
    <title>Lab Scene</title>
  </head>
  <body>
    <div class="center-container">
      <div class="nes-container is-rounded is-dark">
        <h1>
          Now you see a tree! What do you do?
        </h1>
      </div>
      <div class="text">
        <h2>Progress</h2>
      </div>
    </div>

    <div class="bottom-progress-bar">
      <progress
        class="nes-progress is-success"
        value="30"
        max="80"
        style="width: 57vh"
      ></progress>
    </div>

    <img
      src="media/main char.png"
      class="main-character"
      alt="main_character"
    />

    <h2 class="inventory-title">Inventory</h2>
    <img src="media/bar.png" class="inventory_blank" alt="inventory" />
    <img src="media/Tree.png" class="tree" alt="tree" />

    <button
      type="button"
      class="nes-btn is-primary center-bottom"
      onclick="window.location.href='screen6.html'"
    >
      Continue
    </button>

    <button
      type="button"
      class="nes-btn is-error center-bottom-right"
      onclick="window.location.href='screen1.html'"
    >
      Stop
    </button>

    <div class="button-container">
      <button type="button" class="nes-btn is-warning" id="pickTreesButton">Cut Tree</button>
      <button type="button" class="nes-btn is-warning">Ignore</button>
    </div>
    <div id="pickedTreesContainer" style="text-align: center;">
      <img id="pickedTreeImage" class="treeimage" src="media/lumber.png" alt="Lumber" style="display: none;" />
    </div>

    <div id="pickedBerryContainer" style="text-align: center;">
      <img id="pickedBerryImage" class="berryimage" src="media/berryitself.png" alt="Picked Berry" style="display: none;" />
    </div>

    <script>
    document.addEventListener("DOMContentLoaded", () => {
    const pickedBerryImage = document.getElementById("pickedBerryImage");

    // Check if the berry was picked
    if (localStorage.getItem("pickedBerry") === "true") {
      pickedBerryImage.style.display = "block"; // Show the image if it was picked
    } 
    else {
      pickedBerryImage.style.display = "none"; // Hide otherwise
    }
    });

    localStorage.setItem("pickedLumber", "false");
      // Get references to the button and the container
      const pickTreesButton = document.getElementById("pickTreesButton");
      const pickedTreeImage = document.getElementById("pickedTreeImage");
      const pickedTreesContainer = document.getElementById("pickedTreesContainer");

      // Add event listener for the "Pick berries" button
      pickTreesButton.addEventListener("click", () => {
        // Show the picked berry container
        pickedTreeImage.style.display = "block";
        pickedTreesContainer.style.display = "block";
        console.log("Picked berry container made visible");

        // Store information in localStorage for use in later screens
        localStorage.setItem("pickedLumber", "true");
      });
    </script>
  </body>
</html>
