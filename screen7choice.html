<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://fonts.googleapis.com/css?family=Press+Start+2P"
      rel="stylesheet"
    />
    <link href="https://unpkg.com/nes.css/css/nes.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/riverscreen1.css" />
    <title>Lab Scene</title>
  </head>
  <body>
    <label>
      <input type="checkbox" id="menu-toggle" />
      <div class="toggle">
        <span class="top_line common"></span>
        <span class="middle_line common"></span>
        <span class="bottom_line common"></span>
      </div>
      <div class="overlay"></div>
      <!-- Overlay div -->
      <div class="slide">
        <h1>MENU</h1>
        <ul>
          <li>
            <a href="screen1.html"><i class="fas fa-tv"></i>Home</a>
            <a href="guide.html"><i class="far fa-user"></i>Guide</a>
            <h4>GAME</h4>
            <a href="screen2.html"><i class="far fa-gripfire"></i>Lab Screen</a>
            <a href="screen3.html"
              ><i class="far fa-comments"></i>Jungle Screen</a
            >
            <a href="screen4.html"><i class="far fa-folder"></i>Bush Screen</a>
            <a href="screen5.html"
              ><i class="far fa-address-book"></i>Tree Screen</a
            >
            <a href="screen6.html"><i class="far fa-heart"></i>Dino Screen</a>
            <a href="screen7choice.html"
              ><i class="fas fa-tv"></i>River Screen</a
            >
            <a href="screen8dino.html"
              ><i class="fas fa-tv"></i>River Choice 1</a
            >
            <a href="screen8river.html"
              ><i class="fas fa-tv"></i>River Choice 2</a
            >
          </li>
        </ul>
      </div>
    </label>
    <div class="center-container">
      <div class="nes-container is-rounded is-dark">
        <h1 id="h1-text">
          You must now cross the river, but do you have the wood to build a
          boat?
        </h1>
      </div>
      <div class="text">
        <h2>Progress</h2>
      </div>
    </div>

    <div class="bottom-progress-bar">
      <progress
        class="nes-progress is-success"
        value="50"
        max="80"
        style="width: 57vh"
      ></progress>
    </div>

    <img
      src="media/main char.png"
      class="main-character"
      alt="main_character"
    />

    <h2 class="inventory-title">Inventory</h2>
    <img src="media/bar.png" class="inventory_blank" alt="inventory" />

    <button
      type="button"
      class="nes-btn is-error center-bottom-right"
      onclick="window.location.href='screen1.html'"
    >
      Stop
    </button>

    <div class="button-container">
      <button type="button" class="nes-btn is-primary" id="build-boat">
        Build Wood Boat
      </button>
      <button
        type="button"
        class="nes-btn is-warning"
        onclick="window.location.href='screen8dino.html'"
      >
        Different Route
      </button>
    </div>

    <div id="pickedBerryContainer" style="text-align: center">
      <img
        id="pickedBerryImage"
        class="berryimage"
        src="media/berryitself.png"
        alt="Picked Berry"
        style="display: none"
      />
    </div>

    <div id="pickedTreesContainer" style="text-align: center">
      <img
        id="pickedTreeImage"
        class="treeimage"
        src="media/lumber.png"
        alt="Lumber"
        style="display: none"
      />
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const h1Text = document.getElementById("h1-text");
        const buildBoatButton = document.getElementById("build-boat");

        // Check if the lumber is in the user's inventory
        if (localStorage.getItem("pickedLumber") === "true") {
          // If lumber exists in inventory, allow building boat and navigate to screen8river.html
          buildBoatButton.addEventListener("click", () => {
            window.location.href = "screen8river.html";
          });
        } else {
          // If no lumber, update text to inform the user
          buildBoatButton.addEventListener("click", () => {
            h1Text.textContent =
              "You don't have wood. Take the alternate route...";
          });
        }

        // Check if the berry was picked
        const pickedBerryImage = document.getElementById("pickedBerryImage");
        if (localStorage.getItem("pickedBerry") === "true") {
          pickedBerryImage.style.display = "block";
        } else {
          pickedBerryImage.style.display = "none";
        }

        if (localStorage.getItem("pickedLumber") === "true") {
          pickedTreeImage.style.display = "block"; // Show lumber if it was picked
        } else {
          pickedTreeImage.style.display = "none"; // Hide lumber otherwise
        }
      });
    </script>
  </body>
</html>
