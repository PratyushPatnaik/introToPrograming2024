<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://fonts.googleapis.com/css?family=Press+Start+2P"
      rel="stylesheet"
    />
    <link href="https://unpkg.com/nes.css/css/nes.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/screen4.css" />
    <title>Lab Scene</title>
  </head>
  <body>
    <label>
      <input type="checkbox" id="menu-toggle" />
      <div class="toggle">
        <span class="top_line common"></span>
        <span class="middle_line common"></span>
        <span class="bottom_line common"></span>
      </div>
      <div class="overlay"></div>
      <!-- Overlay div -->
      <div class="slide">
        <h1>MENU</h1>
        <ul>
          <li>
            <a href="screen1.html"><i class="fas fa-tv"></i>Home</a>
            <a href="#"><i class="far fa-user"></i>Guide</a>
            <h4>GAME</h4>
            <a href="screen2.html"><i class="far fa-gripfire"></i>Lab Screen</a>
            <a href="screen3.html"
              ><i class="far fa-comments"></i>Jungle Screen</a
            >
            <a href="screen4.html"><i class="far fa-folder"></i>Bush Screen</a>
            <a href="screen5.html"
              ><i class="far fa-address-book"></i>Tree Screen</a
            >
            <a href="screen6.html"><i class="far fa-heart"></i>Dino Screen</a>
            <a href="screen7choice.html"
              ><i class="fas fa-tv"></i>River Screen</a
            >
            <a href="screen8dino.html"
              ><i class="fas fa-tv"></i>River Choice 1</a
            >
            <a href="screen8river.html"
              ><i class="fas fa-tv"></i>River Choice 2</a
            >
          </li>
        </ul>
      </div>
    </label>
    <div class="center-container">
      <div class="nes-container is-rounded is-dark">
        <h1>
          You go upon your quest to find your time machine when u stumble across
          a berry bush! What do you do?
        </h1>
      </div>
      <div class="text">
        <h2>Progress</h2>
      </div>
    </div>

    <div class="bottom-progress-bar">
      <progress
        class="nes-progress is-success"
        value="20"
        max="80"
        style="width: 57vh"
      ></progress>
    </div>

    <img
      src="media/main char.png"
      class="main-character"
      alt="main_character"
    />

    <h2 class="inventory-title">Inventory</h2>
    <img src="media/bar.png" class="inventory_blank" alt="inventory" />
    <img src="media/berry_bush.png" class="berry_bush" alt="berry_bush" />

    <button
      type="button"
      class="nes-btn is-primary center-bottom"
      onclick="window.location.href='screen5.html'"
    >
      Continue
    </button>

    <button
      type="button"
      class="nes-btn is-error center-bottom-right"
      onclick="window.location.href='screen1.html'"
    >
      Stop
    </button>

    <div class="button-container">
      <button type="button" class="nes-btn is-warning" id="pickBerriesButton">
        Pick berries
      </button>
      <button type="button" class="nes-btn is-warning" id="ignore">
        Ignore
      </button>
    </div>

    <div id="pickedBerryContainer" style="display: none; text-align: center">
      <img
        id="pickedBerryImage"
        class="berryimage"
        src="media/berryitself.png"
        style="display: none"
        alt="Picked Berry"
      />
    </div>

    <div id="pickedBerryContainer" style="text-align: center">
      <img
        id="pickedBerryImage"
        class="berryimage"
        src="media/berryitself.png"
        alt="Picked Berry"
        style="display: none"
      />
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        localStorage.setItem("pickedBerry", "false");
        // Get references to elements
        const pickBerriesButton = document.getElementById("pickBerriesButton");
        const ignoreButton = document.getElementById("ignore");
        const pickedBerryImage = document.getElementById("pickedBerryImage");
        const pickedBerryContainer = document.getElementById(
          "pickedBerryContainer"
        );
        const h1Element = document.querySelector(".nes-container h1"); // Reference to the <h1>

        // Add event listener for the "Pick berries" button
        pickBerriesButton.addEventListener("click", () => {
          console.log("Pick berries button clicked");

          // Show the picked berry container
          pickedBerryImage.style.display = "block";
          pickedBerryContainer.style.display = "block";
          console.log("Picked berry container made visible");

          // Update the <h1> text
          h1Element.textContent =
            "Berries have been added to your inventory! Click Continue to advance.";

          // Store information in localStorage for use in later screens
          localStorage.setItem("pickedBerry", "true");
        });

        // Add event listener for the "Ignore" button
        ignoreButton.addEventListener("click", () => {
          console.log("Ignore button clicked");

          // Hide the picked berry container
          pickedBerryImage.style.display = "none";
          pickedBerryContainer.style.display = "none";
          console.log("Picked berry container hidden");

          // Update the <h1> text
          h1Element.textContent =
            "Berries have been ignored. Click Continue to advance.";

          // Store information in localStorage for use in later screens
          localStorage.setItem("pickedBerry", "false");
        });

        // Check if the berry was picked when loading the screen
      });
    </script>
  </body>
</html>
